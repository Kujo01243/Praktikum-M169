services:

    prometheus:
        container_name: prometheus
        image: prom/prometheus
        volumes:
            - ./prometheus:/etc/prometheus
        command:
            - '--config.file=/etc/prometheus/prometheus.yml'
        ports:
            - 9090:9090
        restart: always

    grafana:
        container_name: grafana
        image: grafana/grafana
        ports:
          - 3000:3000
        depends_on:
          - prometheus




###################################################



    reverseproxy:
        image: kujo01243/reverseproxy
        container_name: reverseproxy
        networks:
            - m169_network
        ports:
            - 80:80
        restart: always
    nginx:
        container_name: server-nginx
        depends_on:
            - reverseproxy
        image: kujo01243/server-nginx
        networks:
            - m169_network
        restart: always

    apache:
        container_name: server-apache
        depends_on:
            - reverseproxy
        image: kujo01243/server-apache
        networks:
            - m169_network
        restart: always
networks:
  m169_network:
    name: m169_network
